{"ast":null,"code":"var _jsxFileName = \"/Users/neysanfoo/lams/django_lms/lms_frontend/src/components/Teacher/Login.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = 'http://127.0.0.1:8000/api';\n\nfunction Login() {\n  _s();\n\n  useEffect(() => {\n    document.title = \"Teacher Login\";\n  });\n  const [teacherLoginData, setTeacherLoginData] = useState({\n    'email': '',\n    'password': ''\n  });\n  const [errorMsg, setErrorMsg] = useState('');\n\n  function handleChange(event) {\n    setTeacherLoginData({ ...teacherLoginData,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function handleSubmit(event) {\n    const teacherFormData = new FormData();\n    teacherFormData.append('email', teacherLoginData.email);\n    teacherFormData.append('password', teacherLoginData.password);\n\n    try {\n      axios.post(baseURL + '/teacher-login/', teacherFormData).then(response => {\n        console.log(response.data);\n\n        if (response.data.bool == true) {\n          localStorage.setItem(\"teacherLoginStatus\", true);\n          localStorage.setItem(\"teacherId\", response.data.teacherId);\n          window.location.href = '/teacher-dashboard';\n        } else {\n          setErrorMsg(\"Invalid Email or Password\");\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const teacherLoginStatus = localStorage.getItem('teacherLoginStatus');\n\n  if (teacherLoginStatus == \"true\") {\n    window.location.href = '/teacher-dashboard';\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form--login\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login--welcome\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Teacher Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email address\",\n        className: \"form--input mb-4\",\n        name: \"email\",\n        onChange: handleChange,\n        value: teacherLoginData.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        className: \"form--input mb-4\",\n        name: \"password\",\n        onChange: handleChange,\n        value: teacherLoginData.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 form-check\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          className: \"form-check-input\",\n          id: \"studentLoginRemember\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-check-label\",\n          for: \"studentLoginRemember\",\n          children: \"Remember Me\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"form--submit\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"OOhRsB1TwVDUZ9NHkSwbTiC2olQ=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Link","useEffect","useState","axios","baseURL","Login","document","title","teacherLoginData","setTeacherLoginData","errorMsg","setErrorMsg","handleChange","event","target","name","value","handleSubmit","teacherFormData","FormData","append","email","password","post","then","response","console","log","data","bool","localStorage","setItem","teacherId","window","location","href","error","teacherLoginStatus","getItem"],"sources":["/Users/neysanfoo/lams/django_lms/lms_frontend/src/components/Teacher/Login.js"],"sourcesContent":["import {Link} from 'react-router-dom'\nimport {useEffect, useState} from 'react'\nimport axios from 'axios'\nconst baseURL='http://127.0.0.1:8000/api'\n\nfunction Login() {\n  useEffect(()=>{\n    document.title=\"Teacher Login\"\n  })\n\n  const [teacherLoginData, setTeacherLoginData]=useState ({\n    'email': '',\n    'password': ''\n  })\n\n  const [errorMsg,setErrorMsg]=useState('');\n\n  function handleChange(event){\n    setTeacherLoginData({\n      ...teacherLoginData,\n      [event.target.name] : event.target.value\n    })\n  }\n\n  function handleSubmit(event){\n    const teacherFormData = new FormData();\n    teacherFormData.append('email', teacherLoginData.email)\n    teacherFormData.append('password', teacherLoginData.password)\n    try {\n      axios.post(baseURL + '/teacher-login/', teacherFormData).then((response)=>\n      {console.log(response.data)\n        if(response.data.bool == true){\n        localStorage.setItem(\"teacherLoginStatus\", true)\n        localStorage.setItem(\"teacherId\", response.data.teacherId)\n        window.location.href='/teacher-dashboard'\n      }\n      else {\n        setErrorMsg(\"Invalid Email or Password\")\n      }\n    }\n    )\n    }\n    catch(error){\n      console.log(error)\n    }\n  }\n\n  const teacherLoginStatus=localStorage.getItem('teacherLoginStatus')\n  if (teacherLoginStatus == \"true\"){\n    window.location.href='/teacher-dashboard'\n  }\n\n  return (\n    <div className=\"form-container\">\n        <form className=\"form--login\" onSubmit={handleSubmit}>\n          <div className=\"login--welcome\">\n              <h1>Teacher Login</h1>\n          </div>\n            <input\n                type=\"email\"\n                placeholder=\"Email address\"\n                className=\"form--input mb-4\"\n                name=\"email\"\n                onChange={handleChange}\n                value={teacherLoginData.email}\n            />\n            <input\n                type=\"password\"\n                placeholder=\"Password\"\n                className=\"form--input mb-4\"\n                name=\"password\"\n                onChange={handleChange}\n                value={teacherLoginData.password}\n            />\n            <div className=\"mb-3 form-check\">\n              <input type=\"checkbox\" className=\"form-check-input\" id=\"studentLoginRemember\" />\n              <label className=\"form-check-label\" for=\"studentLoginRemember\">Remember Me</label>\n            </div>\n\n            <button className=\"form--submit\">\n                Log in\n            </button>\n        </form>\n    </div>\n    )\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}