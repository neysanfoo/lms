{"ast":null,"code":"var _jsxFileName = \"/Users/neysanfoo/lams/designchanges/frontend/src/components/Teacher/Login.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = 'http://127.0.0.1:8000/api';\n\nfunction Login() {\n  _s();\n\n  useEffect(() => {\n    document.title = \"Teacher Login\";\n  });\n  const [teacherLoginData, setTeacherLoginData] = useState({\n    'email': '',\n    'password': ''\n  });\n  const [errorMsg, setErrorMsg] = useState('');\n\n  function handleChange(event) {\n    setTeacherLoginData({ ...teacherLoginData,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function handleSubmit(event) {\n    const teacherFormData = new FormData();\n    teacherFormData.append('email', teacherLoginData.email);\n    teacherFormData.append('password', teacherLoginData.password);\n\n    try {\n      axios.post(baseURL + '/teacher-login/', teacherFormData).then(response => {\n        console.log(response.data);\n\n        if (response.data.bool == true) {\n          localStorage.setItem(\"teacherLoginStatus\", true);\n          localStorage.setItem(\"teacherId\", response.data.teacherId);\n          window.location.href = '/teacher-dashboard';\n        } else {\n          setErrorMsg(\"Invalid Email or Password\");\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const teacherLoginStatus = localStorage.getItem('teacherLoginStatus');\n\n  if (teacherLoginStatus == \"true\") {\n    window.location.href = '/teacher-dashboard';\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form--container--login mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: \"Teacher Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-danger\",\n      children: errorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"details\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: handleChange,\n              value: teacherLoginData.email,\n              name: \"email\",\n              type: \"email\",\n              placeholder: \"Enter your email\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"details\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: handleChange,\n              value: teacherLoginData.password,\n              name: \"password\",\n              type: \"password\",\n              placeholder: \"Enter your password\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 form-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"form-check-input\",\n            id: \"exampleCheck1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-check-label\",\n            for: \"exampleCheck1\",\n            children: \"Remember Me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          type: \"button\",\n          className: \"register--button\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Login, \"OOhRsB1TwVDUZ9NHkSwbTiC2olQ=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Link","useEffect","useState","axios","baseURL","Login","document","title","teacherLoginData","setTeacherLoginData","errorMsg","setErrorMsg","handleChange","event","target","name","value","handleSubmit","teacherFormData","FormData","append","email","password","post","then","response","console","log","data","bool","localStorage","setItem","teacherId","window","location","href","error","teacherLoginStatus","getItem"],"sources":["/Users/neysanfoo/lams/designchanges/frontend/src/components/Teacher/Login.js"],"sourcesContent":["import {Link} from 'react-router-dom'\nimport {useEffect, useState} from 'react'\nimport axios from 'axios'\nconst baseURL='http://127.0.0.1:8000/api'\n\nfunction Login() {\n  useEffect(()=>{\n    document.title=\"Teacher Login\"\n  })\n\n  const [teacherLoginData, setTeacherLoginData]=useState ({\n    'email': '',\n    'password': ''\n  })\n\n  const [errorMsg,setErrorMsg]=useState('');\n\n  function handleChange(event){\n    setTeacherLoginData({\n      ...teacherLoginData,\n      [event.target.name] : event.target.value\n    })\n  }\n\n  function handleSubmit(event){\n    const teacherFormData = new FormData();\n    teacherFormData.append('email', teacherLoginData.email)\n    teacherFormData.append('password', teacherLoginData.password)\n    try {\n      axios.post(baseURL + '/teacher-login/', teacherFormData).then((response)=>\n      {console.log(response.data)\n        if(response.data.bool == true){\n        localStorage.setItem(\"teacherLoginStatus\", true)\n        localStorage.setItem(\"teacherId\", response.data.teacherId)\n        window.location.href='/teacher-dashboard'\n      }\n      else {\n        setErrorMsg(\"Invalid Email or Password\")\n      }\n    }\n    )\n    }\n    catch(error){\n      console.log(error)\n    }\n  }\n\n  const teacherLoginStatus=localStorage.getItem('teacherLoginStatus')\n  if (teacherLoginStatus == \"true\"){\n    window.location.href='/teacher-dashboard'\n  }\n\n  return (\n\n      <div className=\"form--container--login mt-4\">\n      <div className=\"title\">Teacher Login</div>\n      {errorMsg && <p className=\"text-danger\">{errorMsg}</p>}\n      <div className=\"content\">\n        <form>\n          <div className=\"user-details\">\n            <div className=\"input-box\">\n              <span className=\"details\">Email</span>\n              <input onChange={handleChange} value={teacherLoginData.email} name=\"email\" type=\"email\" placeholder=\"Enter your email\" required />\n            </div>\n            <div className=\"input-box\">\n              <span className=\"details\">Password</span>\n              <input onChange={handleChange} value={teacherLoginData.password} name=\"password\" type=\"password\" placeholder=\"Enter your password\" required />\n            </div>\n          </div>\n          <div className=\"mb-3 form-check\">\n            <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\" />\n            <label className=\"form-check-label\" for=\"exampleCheck1\">Remember Me</label>\n          </div>\n          <button onClick={handleSubmit} type=\"button\" className=\"register--button\">Login</button>\n        </form>\n      </div>\n    </div>\n    )\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}